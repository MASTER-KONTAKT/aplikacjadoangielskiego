<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Learning</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100vh;
}
.progress-bar-container {
    width: 100%;
    height: 20px;
    background-color: #ddd;
    position: relative;
    display: flex;
    align-items: center;
}
.progress-bar {
    height: 100%;
    width: 0%;
    background-color: #28a745;
    transition: width 0.3s ease;
}
.exit-btn {
    position: absolute;
    right: 10px;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 18px;
    color: white;
    font-weight: bold;
}
.container {
    display: flex;
    flex: 1;
    width: 100%;
    max-width: 1000px;
    margin-top: 10px;
    gap: 20px;
}
.side { flex: 1; }
.main-content {
    flex: 2;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 30px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
}
h2 { text-align: center; color: #333; }
.word-number {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 14px;
    font-weight: bold;
}
.word {
    font-size: 28px;
    font-weight: bold;
    text-align: center;
    margin-bottom: 20px;
}
input[type="text"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 18px;
}
button {
    width: 100%;
    padding: 10px;
    background-color: #4b935c;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 18px;
    cursor: pointer;
}
button:disabled { background-color: #ccc; }

.bottom-bar {
    position: fixed;
    bottom: -100px;
    left: 0;
    width: 100%;
    padding: 15px 0;
    font-size: 18px;
    font-weight: bold;
    color: white;
    text-align: center;
    box-shadow: 0 -2px 8px rgba(0,0,0,0.2);
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    transition: bottom 0.5s ease;
}
.bottom-bar.show { bottom: 0; }
.continue-btn {
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    width: 100px;
}
.goto-word {
    display: flex;
    justify-content: center;
    margin-top: 10px;
    gap: 5px;
}
.goto-word input { width: 60px; padding: 5px; }
.goto-word button { width: auto; padding: 5px 10px; font-size: 14px; }

/* Mały pasek po zakończeniu wszystkich słów */
.finish-bar-container {
    width: 80%;
    background-color: #ddd;
    border-radius: 5px;
    margin: 10px auto 0;
    height: 15px;
    overflow: hidden;
}
.finish-bar {
    height: 100%;
    width: 0%;
    background-color: #28a745;
    transition: width 3s linear;
}
</style>
</head>
<body>

<div class="progress-bar-container">
    <div class="progress-bar" id="progress-bar"></div>
    <div class="exit-btn" onclick="window.location.href='index.html'">✖</div>
</div>

<div class="container">
    <div class="side"></div>
    <div class="main-content">
        <div class="word-number" id="word-number"></div>
        <h2 id="main-title">Przepisz słowo po angielsku:</h2>
        <div id="word" class="word"></div>
        <input type="text" id="answer" placeholder="Wpisz odpowiedź...">
        <button id="submit" onclick="checkAnswer()">Sprawdź odpowiedź</button>
        <div class="goto-word" id="goto-word-container">
            <input type="number" id="go-to-word" placeholder="Nr słowa" min="1">
            <button onclick="goToWord()">Idź</button>
        </div>
    </div>
    <div class="side"></div>
</div>

<div id="bottom-bar" class="bottom-bar">
    <span id="bar-message"></span>
    <button id="continue-btn" class="continue-btn" onclick="nextWord()">Continue</button>
</div>

<div class="finish-bar-container" id="finish-bar-container" style="display:none;">
    <div class="finish-bar" id="finish-bar"></div>
</div>

<script>
const words = [
    { pl: "drzewo", en: "tree" },
    { pl: "dom", en: "house" },
    { pl: "pies", en: "dog" },
    { pl: "kot", en: "cat" },
    { pl: "książka", en: "book" },
    { pl: "mówić", en: "speak" }, { pl: "jeść", en: "eat" }, { pl: "pić", en: "drink" }, { pl: "kochać", en: "love" }, { pl: "lubić", en: "like" }, { pl: "czekać", en: "wait" }, { pl: "pisać", en: "write" }, { pl: "czytać", en: "read" }, { pl: "rozumieć", en: "understand" }, { pl: "pracować", en: "work" }, { pl: "szukać", en: "search" }, { pl: "znać", en: "know" }, { pl: "zrozumieć", en: "understand" }, { pl: "później", en: "later" }, { pl: "wczoraj", en: "yesterday" }, { pl: "jutro", en: "tomorrow" }, { pl: "teraz", en: "now" }, { pl: "znajomy", en: "acquaintance" }, { pl: "płatność", en: "payment" },
];

let currentIndex = 0;

function displayWord() {
    document.getElementById("word").textContent = words[currentIndex].pl;
    document.getElementById("answer").value = '';
    document.getElementById("submit").disabled = false;
    document.getElementById("bottom-bar").classList.remove("show");
    document.getElementById("word-number").textContent = `Słowo ${currentIndex + 1} z ${words.length}`;
    document.getElementById("goto-word-container").style.display = 'flex';
    updateProgressBar();
}

function checkAnswer() {
    const answer = document.getElementById("answer").value.trim().toLowerCase();
    const correctAnswer = words[currentIndex].en.toLowerCase();
    const bar = document.getElementById("bottom-bar");
    const message = document.getElementById("bar-message");
    const continueBtn = document.getElementById("continue-btn");

    if (answer === correctAnswer) {
        bar.style.backgroundColor = "#B5EB8B"; // jasnozielony
        message.textContent = "✅ Perfect!";
        continueBtn.style.backgroundColor = "#28a745"; // zielony przycisk
        continueBtn.style.color = "white";
    } else {
        bar.style.backgroundColor = "#F1948A"; // jasnoczerwony
        message.textContent = `❌ Źle! Poprawna odpowiedź: ${words[currentIndex].en}`;
        continueBtn.style.backgroundColor = "#dc3545"; // czerwony przycisk
        continueBtn.style.color = "white";
    }

    bar.classList.add("show");
    document.getElementById("submit").disabled = true;
    document.getElementById("answer").focus();
}

function nextWord() {
    currentIndex++;
    if (currentIndex < words.length) {
        displayWord();
    } else {
        // koniec słów
        document.getElementById("word").textContent = "Gratulacje! Ukończyłeś wszystkie słowa.";
        document.getElementById("answer").style.display = 'none';
        document.getElementById("submit").style.display = 'none';
        document.getElementById("goto-word-container").style.display = 'none';
        document.getElementById("bottom-bar").classList.remove("show");

        // pokaż mały pasek
        const finishContainer = document.getElementById("finish-bar-container");
        const finishBar = document.getElementById("finish-bar");
        finishContainer.style.display = 'block';
        // animacja ładowania
        setTimeout(() => { finishBar.style.width = '100%'; }, 50);

        // przekierowanie po 3 sekundach
        setTimeout(() => { window.location.href = 'index.html'; }, 3000);
    }
}

function updateProgressBar() {
    const progress = (currentIndex / words.length) * 100;
    document.getElementById("progress-bar").style.width = progress + "%";
}

function goToWord() {
    const goToIndex = parseInt(document.getElementById("go-to-word").value) - 1;
    if (!isNaN(goToIndex) && goToIndex >= 0 && goToIndex < words.length) {
        currentIndex = goToIndex;
        displayWord();
    } else {
        alert("Numer słowa jest poza zakresem!");
    }
}

document.getElementById("answer").addEventListener("keydown", function(event) {
    const continueBtn = document.getElementById("continue-btn");
    if (event.key === "Enter") {
        if (!document.getElementById("submit").disabled) {
            checkAnswer();
        } else {
            continueBtn.click();
        }
    }
});

displayWord();
</script>

</body>
</html>


